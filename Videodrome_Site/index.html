<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <!-- libs and jquery See-Thru -->
    <script type="text/javascript" src="libs/jquery-1.11.1.min.js"></script>
    <script type="text/javascript" src="libs/seeThru.min.js"></script>
    <script type="text/javascript" src="libs/p5.min.js"></script>
    <script type="text/javascript" src="libs/jquery.jplayer.min.js"></script>
    <script type="text/javascript" src="libs/VideoFrame.min.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
<script type="text/javascript">
    // jQuery load
    $(document).ready(function () {
        console.log("DOM Ready");
        $('#alphaOverlay').ready(function () {
            console.log("Video ready");
            $('#alphaOverlay').seeThru();
            console.log("done!");
        })

        $('#alphaOverlay').on(
                "timeupdate",
                function (event) {
                    onTrackedVideoFrame(this.currentTime, this.duration);
                });
    });

    function onTrackedVideoFrame(currentTime, duration) {
        $('#current').text(currentTime);
        $('#duration').text(duration);
    }


/*
    var video = VideoFrame({
        id : "alphaOverlay",
        frameRate : 24;
        callback : function() {
            // Code here to pass info on to the processing canvas element
        }
    });

*/
</script>
<div id="container">
    <!-- The alpha-d out video -->
    <!---->
    <div id="overlayDiv">
        <video id="alphaOverlay" controls autoplay>
            <source src="video/Composite_WithAlpha.webm" type="video/webm">
            <source src="video/Composite_WithAlpha.mp4" type="video/mp4">
        </video>
    </div>
    <!-- The processing sketch, rendered to canvas via ProcessingJS  -->
    <div id="processingDiv">
        <iframe id="sketch" src="Processing/P5js/tracker.html">

        </iframe>
    </div>
    <!-- The background video  -->
    <div id="bgDiv">
        <img src="video/BG.png" id="bgImg"/>
        <!--<video id="bgVideo" autoplay>-->
        <!--<source src="video/Composite.mp4" type="video/mp4">-->
        <!--<source src="video/Composite.webm" type="video/webm">-->
        <!--</video>-->
    </div>
    <div id="footer">
        <div id="current">0:00</div>
        <div id="duration">0:00</div>
    </div>
</div>
<!-- End container -->
</body>
</html>